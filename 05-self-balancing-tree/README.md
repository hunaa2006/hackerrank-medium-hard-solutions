# Self Balancing Tree


> HackerRank - Data Structures 
> Difficulty: Medium  
> [üîó View Problem on HackerRank](https://www.hackerrank.com/challenges/is-binary-search-tree/problem?isFullScreen=true)


## –ë–æ–¥–ª–æ–≥—ã–Ω ”©–≥“Ø“Ø–ª–±—ç—Ä
–û–¥–æ–æ–≥–∏–π–Ω –±–∞–π–¥–ª–∞–∞—Ä 2025 –æ–Ω—ã 6-—Ä —Å–∞—Ä—ã–Ω 10-–Ω—ã –ú—è–≥–º–∞—Ä –≥–∞—Ä–∞–≥–∏–π–Ω 2:48:47 PM +08 –±–∞–π–Ω–∞.

AVL –º–æ–¥ (–ó–æ—Ö–∏–æ–Ω –±“Ø—Ç—ç—ç–≥—á–¥–∏–π–Ω –Ω—ç—Ä—ç—ç—Ä –Ω—ç—Ä–ª—ç–≥–¥—Å—ç–Ω –ì–µ–æ—Ä–≥–∏–π –ê–¥–µ–ª—å—Å–æ–Ω-–í–µ–ª—å—Å–∫–∏–π –±–∞ –õ–∞–Ω–¥–∏—Å—ã–Ω –º–æ–¥) –Ω—å ”©”©—Ä”©”© —Ç—ç–Ω—Ü–≤—ç—Ä–∂–¥—ç–≥ —Ö–æ—ë—Ä—Ç—ã–Ω —Ö–∞–π–ª—Ç—ã–Ω –º–æ–¥ —é–º. AVL –º–æ–¥–æ–Ω–¥ –∞–ª–∏–≤–∞–∞ –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã —Ö–æ—ë—Ä —Ö“Ø“Ø—Ö—ç–¥ –¥—ç–¥ –º–æ–¥–Ω—ã ”©–Ω–¥”©—Ä –Ω—å —Ö–∞–º–≥–∏–π–Ω –∏—Ö–¥—ç—ç –Ω—ç–≥—ç—ç—Ä —è–ª–≥–∞–∞—Ç–∞–π –±–∞–π–¥–∞–≥; —Ö—ç—Ä—ç–≤ —è–º–∞—Ä –Ω—ç–≥—ç–Ω “Ø–µ–¥ –Ω—ç–≥—ç—ç—Å –∏–ª“Ø“Ø —è–ª–≥–∞–∞—Ç–∞–π –±–æ–ª —ç–Ω—ç —à–∏–Ω–∂ —á–∞–Ω–∞—Ä—ã–≥ —Å—ç—Ä–≥—ç—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –¥–∞—Ö–∏–Ω —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç–ª—Ç —Ö–∏–π–≥–¥–¥—ç–≥.

–ë–∏–¥ –∑–∞–Ω–≥–∏–ª–∞–∞ –±“Ø—Ä–∏–π–Ω —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∏–π–≥ –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–ª–∞–∞—Ä —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–Ω–æ:
balanceFactor = height(–∑“Ø“Ø–Ω –¥—ç–¥ –º–æ–¥) - height(–±–∞—Ä—É—É–Ω –¥—ç–¥ –º–æ–¥)

AVL –º–æ–¥–Ω—ã –∞–ª–∏–≤–∞–∞ –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω—å [‚àí1,+1] –±“Ø—Ö—ç–ª —Ç–æ–æ–Ω –º—É–∂–∏–¥ –±–∞–π–Ω–∞. –•—ç—Ä—ç–≤ –º–æ–¥–æ–Ω–¥ —è–º–∞—Ä –Ω—ç–≥—ç–Ω ”©”©—Ä—á–ª”©–ª—Ç —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ‚àí1-—ç—ç—Å –±–∞–≥–∞ —ç—Å–≤—ç–ª +1-—ç—ç—Å –∏—Ö –±–æ–ª–±–æ–ª, —Ç—É—Ö–∞–π–Ω –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã “Ø–Ω–¥—ç—Å–ª—ç—Å—ç–Ω –¥—ç–¥ –º–æ–¥ —Ç—ç–Ω—Ü–≤—ç—Ä–≥“Ø–π –±–æ–ª–∂, —ç—Ä–≥—ç–ª—Ç —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–æ–ª–Ω–æ.

(https://en.wikipedia.org/wiki/AVL_tree)

–¢–∞–Ω–¥ AVL –º–æ–¥–Ω—ã “Ø–Ω–¥—ç—Å —Ä“Ø“Ø –∑–∞–∞–≥—á ”©–≥”©–≥–¥—Å”©–Ω –±–∞–π–Ω–∞. –¢–∞ —ç–Ω—ç –º–æ–¥–æ–Ω–¥ —É—Ç–≥—ã–≥ –æ—Ä—É—É–ª–∂, —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π –±–∞–π–¥–ª—ã–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö—ã–Ω —Ç—É–ª–¥ —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π —ç—Ä–≥—ç–ª—Ç“Ø“Ø–¥–∏–π–≥ —Ö–∏–π—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.

–û—Ä–æ–ª—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç

–¢–∞–Ω–¥ –¥–∞—Ä–∞–∞—Ö —Ñ—É–Ω–∫—Ü ”©–≥”©–≥–¥—Å”©–Ω:

C++

node *insert(node * root,int new_val)
{


}
node –Ω—å –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–ª–∞–∞—Ä —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–≥–¥—Å–æ–Ω:

C++

struct node
{
int val;            // —É—Ç–≥–∞
struct node* left;  // –∑“Ø“Ø–Ω —Ö“Ø“Ø—Ö—ç–¥
struct node* right; // –±–∞—Ä—É—É–Ω —Ö“Ø“Ø—Ö—ç–¥
int ht;             // –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä
} node;
–¢–∞ –∑”©–≤—Ö”©–Ω —Ñ—É–Ω–∫—Ü–∏–π–≥ –≥“Ø–π—Ü—ç—ç—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.
–¢—ç–º–¥—ç–≥–ª—ç–ª: –ú–æ–¥ –¥–∞—Ö—å –±“Ø—Ö —É—Ç–≥—É—É–¥ –Ω—å —è–ª–≥–∞–∞—Ç–∞–π –±–∞–π–Ω–∞. –•–æ–æ—Å–æ–Ω –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä –Ω—å ‚àí1, –Ω–∞–≤—á –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä –Ω—å 0 –±–∞–π–Ω–∞.

–ì–∞—Ä–∞–ª—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç

–®–∏–Ω—ç —É—Ç–≥—ã–≥ –º–æ–¥–æ–Ω–¥ –æ—Ä—É—É–ª–∂, –º–æ–¥–Ω—ã “Ø–Ω–¥—ç—Å —Ä“Ø“Ø –∑–∞–∞–≥—á–∏–π–≥ –±—É—Ü–∞–∞–Ω–∞. –ú–æ–¥ —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π —Ö—ç–≤—ç—ç—Ä –±–∞–π—Ö—ã–≥ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–Ω–∞ —É—É.

–ñ–∏—à—ç—ç –æ—Ä–æ–ª—Ç

    3
  /  \
 2    4
       \
        5
–û—Ä—É—É–ª–∞—Ö —É—Ç–≥–∞ –Ω—å 6.

–ñ–∏—à—ç—ç –≥–∞—Ä–∞–ª—Ç

    3
  /  \
 2    5
     / \
    4   6
–¢–∞–π–ª–±–∞—Ä

–ú–æ–¥–æ–Ω–¥ 6-–≥ –æ—Ä—É—É–ª—Å–Ω—ã –¥–∞—Ä–∞–∞ –º–æ–¥ –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–∞–ª—Ç–∞–π –±–æ–ª–Ω–æ:

    3 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = -2)
  /  \
 2    4 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = -2)
       \
        5 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = -1)
         \
          6 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0)
–ó–∞–Ω–≥–∏–ª–∞–∞ 3 –±–∞ 4-–∏–π–Ω —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω—å [‚àí1,1] –º—É–∂–∏–¥ –±–∞–π—Ö–∞–∞ –±–æ–ª—å—Å–æ–Ω. –ë–∏–¥ –º–æ–¥—ã–≥ —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ —ç—Ä–≥—ç–ª—Ç —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π. –≠–Ω—ç –±–æ–ª –±–∞—Ä—É—É–Ω –±–∞—Ä—É—É–Ω —Ç–æ—Ö–∏–æ–ª–¥–æ–ª —é–º. –ë–∏–¥ –º–æ–¥—ã–≥ —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –Ω—ç–≥ —ç—Ä–≥—ç–ª—Ç —Ö–∏–π–Ω—ç.
–≠—Ä–≥—ç–ª—Ç —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ –º–æ–¥ –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–∞–ª—Ç–∞–π –±–æ–ª–Ω–æ:

                              3 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = -1)
                            /   \
      (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0) 2     5 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0)
                                / \
           (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0)4   6 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0)
![alt text](<Screenshot 2025-06-10 144344.png>)