# Swap Nodes [Algo]


> HackerRank - Data Structures 
> Difficulty: Medium  
> [🔗 View Problem on HackerRank](https://www.hackerrank.com/challenges/swap-nodes-algo/problem?isFullScreen=true)


## Бодлогын өгүүлбэр
Хоёртын мод нь дараах шинж чанаруудын нэгээр тодорхойлогддог мод юм:

Энэ нь хоосон (null) байж болно.
Энэ нь зөвхөн үндэс зангилааг агуулдаг.
Энэ нь үндэс зангилааг зүүн дэд мод, баруун дэд мод эсвэл хоёуланг нь агуулдаг. Эдгээр дэд модод нь бас хоёртын мод юм.
Дарааллын дагуух аялал (In-order traversal) нь дараах байдлаар хийгддэг:

Зүүн дэд модыг аялна.
Үндэс зангилааг үзнэ.
Баруун дэд модыг аялна.
Энэ дарааллын дагуух аялалын хувьд, үндэс зангилааны зүүн хүүхдээс эхэлж, навч хүртэл зүүн дэд модыг үргэлжлүүлэн судлана. Навч хүрэхэд, эцэг зангилаа руугаа буцаж, баруун хүүхэд байгаа эсэхийг шалгаад, байвал түүнийг үзнэ. Хэрэв хүүхэд байхгүй бол та түүний зүүн болон баруун дэд модыг бүрэн судалсан болно. Хэрэв баруун хүүхэд байвал түүний зүүн дэд модыг, дараа нь барууныг нь ижил аргаар аялна. Модыг бүхэлд нь аялах хүртэл үүнийг үргэлжлүүлнэ. Та дараах нөхцлүүдийн аль нэг нь үнэн байх үед л зангилааны утгыг хадгална:

энэ нь анх удаа зочилж буй зангилаа, анх удаа зочилсон
энэ нь навч, зөвхөн нэг удаа зочлох ёстой
түүний бүх дэд модод судалж дууссан, энэ нь үнэн байх үед зөвхөн нэг удаа зочлох ёстой
энэ нь модны үндэс, анх удаа зочилсон
Солих: Зангилааны дэд модыг солих гэдэг нь хэрэв эхэндээ зангилаа нь зүүн дэд мод L, баруун дэд мод R-тэй байсан бол солигдсоны дараа зүүн дэд мод нь R, баруун дэд мод нь L болно гэсэн үг юм.
Жишээлбэл, дараах модонд бид зангилаа 1-ийн хүүхдүүдийг солино.

                                Гүн
    1               1            [1]
   / \             / \
  2   3     ->    3   2          [2]
   \   \           \   \
    4   5           5   4        [3]
Зүүн модны дарааллын дагуух аялал нь 2 4 1 3 5 бөгөөд баруун модны дарааллын дагуух аялал нь 3 5 1 2 4 байна.

Солих үйлдэл:
Бид зангилааны гүнийг дараах байдлаар тодорхойлно:

Үндэс зангилаа нь гүн 1-т байна.
Хэрэв эцэг зангилааны гүн d бол, одоогийн зангилааны гүн d+1 байна. Өгөгдсөн мод болон бүхэл тоо k-ийн хувьд, нэг үйлдлээр бид гүн h-тэй бүх зангилаануудын дэд модыг солих ёстой, энд h∈[k,2k,3k,...]. Өөрөөр хэлбэл, хэрэв h нь k-ийн үржвэр бол, тухайн түвшний зүүн болон баруун дэд модыг солино.
Танд n зангилаатай мод өгөгдсөн бөгөөд зангилаанууд [1..n] гэж индекслэгдсэн бөгөөд 1-ээс үндэслэсэн байна. Та түүнд t солих үйлдэл хийх ёстой бөгөөд солих үйлдэл бүрийн дараа модны одоогийн төлөвийн дарааллын дагуух аялалыг хэвлэх ёстой.

Функцийн тайлбар

Доорх засварлагчид swapNodes функцийг гүйцээгээрэй. Энэ нь солих үйлдэл бүрийн дараах дарааллын дагуух аялалын зангилааны индекстүүдийг илэрхийлэх бүхэл тоон массив бүхий хоёр хэмжээст массивыг буцаах ёстой.

swapNodes нь дараах параметртэй:

indexes: тус бүрийн индексийн утгыг илэрхийлэх бүхэл тоон массив, эхний элемент нь үндэс болох 1-ээс эхэлнэ.
queries: бүхэл тоон массив, тус бүр нь k утгыг илэрхийлнэ.
Оролтын формат

Эхний мөрөнд модны зангилааны тоо n байна.
Дараагийн n мөр тус бүр хоёр бүхэл тоо a b-г агуулна, энд a нь зүүн хүүхдийн индекс, b нь i-р зангилааны баруун хүүхдийн индекс юм.
Тэмдэглэл: −1 нь null зангилааг илэрхийлэхэд ашиглагддаг.
Дараагийн мөрөнд t-ийн хэмжээ болох бүхэл тоо байна.
Дараагийн t мөр тус бүр нь бүхэл тоо k-г агуулна, тус бүр нь k утгатай.

Гаралтын формат

k бүрийн хувьд солих үйлдлийг гүйцэтгэж, дарааллын дагуух аялалын индекстүүдийг үр дүнгийн массивдаа хадгална. Бүх солих үйлдэл хийгдсэний дараа үр дүнгийн массиваа хэвлэхээр буцаана.

Хязгаарлалт

1≤n≤1024
1≤indexes[i][0],indexes[i][1]≤n эсвэл −1
1≤t≤100
1≤k≤n
indexes[i][0] эсвэл −1
indexes[i][1] эсвэл −1
Хоосон биш хүүхдийн индекс нь эцэг зангилаанаасаа үргэлж их байна.
Жишээ оролт 0

3
2 3
-1 -1
-1 -1
2
1
1
Жишээ гаралт 0

3 1 2
2 1 3
Тайлбар 0

Зангилаа 2 болон 3 нь хүүхэдгүй тул тэдгээрийг солих нь тэдэнд ямар ч нөлөө үзүүлэхгүй. Бид зөвхөн үндэс зангилааны хүүхэд зангилаануудыг солих ёстой.

    1   [s]       1    [s]       1
   / \      ->   / \        ->  / \
  2   3 [s]     3   2  [s]     2   3
Тэмдэглэл: [s] нь энэ гүнд солих үйлдэл хийгдсэн болохыг илэрхийлнэ.

Жишээ оролт 1

5
2 3
-1 4
-1 5
-1 -1
-1 -1
1
2
Жишээ гаралт 1

4 2 1 5 3
Тайлбар 1

Зангилаа 2 болон 3-ын хүүхэд зангилаануудыг солиход бид дараахыг авна:

    1                  1
   / \                / \
  2   3   [s]  ->    2   3
   \   \            /   /
    4   5          4   5
Жишээ оролт 2

11
2 3
4 -1
5 -1
6 -1
7 8
-1 9
-1 -1
10 11
-1 -1
-1 -1
-1 -1
2
2
4
Жишээ гаралт 2

2 9 6 4 1 3 7 5 11 8 10
2 6 9 4 1 3 7 5 10 8 11
Тайлбар 2

Энд бид k=2-ын хувьд гүн нь 2 эсвэл 4 байх зангилаануудад солих үйлдэл хийгээд, дараа нь k=4-ын хувьд гүн нь 4 байх зангилаануудад хийнэ.

         1                     1                          1
        / \                   / \                        / \
       /   \                 /   \                      /   \
      2     3    [s]        2     3                    2     3
     /      /                \     \                    \     \
    /      /                  \     \                    \     \
   4      5          ->        4     5          ->        4     5
  /      / \                  /     / \                  /     / \
 /      /   \                /     /   \                /     /   \
6      7     8   [s]        6     7     8   [s]        6     7     8
 \          / \            /           / \              \         / \
  \        /   \          /           /   \              \       /   \
   9      10   11        9           11   10              9     10   11
![alt text](<Screenshot 2025-06-10 144139.png>)