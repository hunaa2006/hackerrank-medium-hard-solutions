# Swap Nodes [Algo]


> HackerRank - Data Structures 
> Difficulty: Medium  
> [ðŸ”— View Problem on HackerRank](https://www.hackerrank.com/challenges/swap-nodes-algo/problem?isFullScreen=true)


## Ð‘Ð¾Ð´Ð»Ð¾Ð³Ñ‹Ð½ Ó©Ð³Ò¯Ò¯Ð»Ð±ÑÑ€
Ð¥Ð¾Ñ‘Ñ€Ñ‚Ñ‹Ð½ Ð¼Ð¾Ð´ Ð½ÑŒ Ð´Ð°Ñ€Ð°Ð°Ñ… ÑˆÐ¸Ð½Ð¶ Ñ‡Ð°Ð½Ð°Ñ€ÑƒÑƒÐ´Ñ‹Ð½ Ð½ÑÐ³ÑÑÑ€ Ñ‚Ð¾Ð´Ð¾Ñ€Ñ…Ð¾Ð¹Ð»Ð¾Ð³Ð´Ð´Ð¾Ð³ Ð¼Ð¾Ð´ ÑŽÐ¼:

Ð­Ð½Ñ Ð½ÑŒ Ñ…Ð¾Ð¾ÑÐ¾Ð½ (null) Ð±Ð°Ð¹Ð¶ Ð±Ð¾Ð»Ð½Ð¾.
Ð­Ð½Ñ Ð½ÑŒ Ð·Ó©Ð²Ñ…Ó©Ð½ Ò¯Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð³ Ð°Ð³ÑƒÑƒÐ»Ð´Ð°Ð³.
Ð­Ð½Ñ Ð½ÑŒ Ò¯Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð³ Ð·Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´, Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´ ÑÑÐ²ÑÐ» Ñ…Ð¾Ñ‘ÑƒÐ»Ð°Ð½Ð³ Ð½ÑŒ Ð°Ð³ÑƒÑƒÐ»Ð´Ð°Ð³. Ð­Ð´Ð³ÑÑÑ€ Ð´ÑÐ´ Ð¼Ð¾Ð´Ð¾Ð´ Ð½ÑŒ Ð±Ð°Ñ Ñ…Ð¾Ñ‘Ñ€Ñ‚Ñ‹Ð½ Ð¼Ð¾Ð´ ÑŽÐ¼.
Ð”Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð» (In-order traversal) Ð½ÑŒ Ð´Ð°Ñ€Ð°Ð°Ñ… Ð±Ð°Ð¹Ð´Ð»Ð°Ð°Ñ€ Ñ…Ð¸Ð¹Ð³Ð´Ð´ÑÐ³:

Ð—Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ Ð°ÑÐ»Ð½Ð°.
Ò®Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð³ Ò¯Ð·Ð½Ñ.
Ð‘Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ Ð°ÑÐ»Ð½Ð°.
Ð­Ð½Ñ Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð»Ñ‹Ð½ Ñ…ÑƒÐ²ÑŒÐ´, Ò¯Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð·Ò¯Ò¯Ð½ Ñ…Ò¯Ò¯Ñ…Ð´ÑÑÑ ÑÑ…ÑÐ»Ð¶, Ð½Ð°Ð²Ñ‡ Ñ…Ò¯Ñ€Ñ‚ÑÐ» Ð·Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ Ò¯Ñ€Ð³ÑÐ»Ð¶Ð»Ò¯Ò¯Ð»ÑÐ½ ÑÑƒÐ´Ð»Ð°Ð½Ð°. ÐÐ°Ð²Ñ‡ Ñ…Ò¯Ñ€ÑÑ…ÑÐ´, ÑÑ†ÑÐ³ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð° Ñ€ÑƒÑƒÐ³Ð°Ð° Ð±ÑƒÑ†Ð°Ð¶, Ð±Ð°Ñ€ÑƒÑƒÐ½ Ñ…Ò¯Ò¯Ñ…ÑÐ´ Ð±Ð°Ð¹Ð³Ð°Ð° ÑÑÑÑ…Ð¸Ð¹Ð³ ÑˆÐ°Ð»Ð³Ð°Ð°Ð´, Ð±Ð°Ð¹Ð²Ð°Ð» Ñ‚Ò¯Ò¯Ð½Ð¸Ð¹Ð³ Ò¯Ð·Ð½Ñ. Ð¥ÑÑ€ÑÐ² Ñ…Ò¯Ò¯Ñ…ÑÐ´ Ð±Ð°Ð¹Ñ…Ð³Ò¯Ð¹ Ð±Ð¾Ð» Ñ‚Ð° Ñ‚Ò¯Ò¯Ð½Ð¸Ð¹ Ð·Ò¯Ò¯Ð½ Ð±Ð¾Ð»Ð¾Ð½ Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ Ð±Ò¯Ñ€ÑÐ½ ÑÑƒÐ´Ð°Ð»ÑÐ°Ð½ Ð±Ð¾Ð»Ð½Ð¾. Ð¥ÑÑ€ÑÐ² Ð±Ð°Ñ€ÑƒÑƒÐ½ Ñ…Ò¯Ò¯Ñ…ÑÐ´ Ð±Ð°Ð¹Ð²Ð°Ð» Ñ‚Ò¯Ò¯Ð½Ð¸Ð¹ Ð·Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³, Ð´Ð°Ñ€Ð°Ð° Ð½ÑŒ Ð±Ð°Ñ€ÑƒÑƒÐ½Ñ‹Ð³ Ð½ÑŒ Ð¸Ð¶Ð¸Ð» Ð°Ñ€Ð³Ð°Ð°Ñ€ Ð°ÑÐ»Ð½Ð°. ÐœÐ¾Ð´Ñ‹Ð³ Ð±Ò¯Ñ…ÑÐ»Ð´ Ð½ÑŒ Ð°ÑÐ»Ð°Ñ… Ñ…Ò¯Ñ€Ñ‚ÑÐ» Ò¯Ò¯Ð½Ð¸Ð¹Ð³ Ò¯Ñ€Ð³ÑÐ»Ð¶Ð»Ò¯Ò¯Ð»Ð½Ñ. Ð¢Ð° Ð´Ð°Ñ€Ð°Ð°Ñ… Ð½Ó©Ñ…Ñ†Ð»Ò¯Ò¯Ð´Ð¸Ð¹Ð½ Ð°Ð»ÑŒ Ð½ÑÐ³ Ð½ÑŒ Ò¯Ð½ÑÐ½ Ð±Ð°Ð¹Ñ… Ò¯ÐµÐ´ Ð» Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ ÑƒÑ‚Ð³Ñ‹Ð³ Ñ…Ð°Ð´Ð³Ð°Ð»Ð½Ð°:

ÑÐ½Ñ Ð½ÑŒ Ð°Ð½Ñ… ÑƒÐ´Ð°Ð° Ð·Ð¾Ñ‡Ð¸Ð»Ð¶ Ð±ÑƒÐ¹ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°, Ð°Ð½Ñ… ÑƒÐ´Ð°Ð° Ð·Ð¾Ñ‡Ð¸Ð»ÑÐ¾Ð½
ÑÐ½Ñ Ð½ÑŒ Ð½Ð°Ð²Ñ‡, Ð·Ó©Ð²Ñ…Ó©Ð½ Ð½ÑÐ³ ÑƒÐ´Ð°Ð° Ð·Ð¾Ñ‡Ð»Ð¾Ñ… Ñ‘ÑÑ‚Ð¾Ð¹
Ñ‚Ò¯Ò¯Ð½Ð¸Ð¹ Ð±Ò¯Ñ… Ð´ÑÐ´ Ð¼Ð¾Ð´Ð¾Ð´ ÑÑƒÐ´Ð°Ð»Ð¶ Ð´ÑƒÑƒÑÑÐ°Ð½, ÑÐ½Ñ Ð½ÑŒ Ò¯Ð½ÑÐ½ Ð±Ð°Ð¹Ñ… Ò¯ÐµÐ´ Ð·Ó©Ð²Ñ…Ó©Ð½ Ð½ÑÐ³ ÑƒÐ´Ð°Ð° Ð·Ð¾Ñ‡Ð»Ð¾Ñ… Ñ‘ÑÑ‚Ð¾Ð¹
ÑÐ½Ñ Ð½ÑŒ Ð¼Ð¾Ð´Ð½Ñ‹ Ò¯Ð½Ð´ÑÑ, Ð°Ð½Ñ… ÑƒÐ´Ð°Ð° Ð·Ð¾Ñ‡Ð¸Ð»ÑÐ¾Ð½
Ð¡Ð¾Ð»Ð¸Ñ…: Ð—Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ ÑÐ¾Ð»Ð¸Ñ… Ð³ÑÐ´ÑÐ³ Ð½ÑŒ Ñ…ÑÑ€ÑÐ² ÑÑ…ÑÐ½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð° Ð½ÑŒ Ð·Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´ L, Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´ R-Ñ‚ÑÐ¹ Ð±Ð°Ð¹ÑÐ°Ð½ Ð±Ð¾Ð» ÑÐ¾Ð»Ð¸Ð³Ð´ÑÐ¾Ð½Ñ‹ Ð´Ð°Ñ€Ð°Ð° Ð·Ò¯Ò¯Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´ Ð½ÑŒ R, Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´ Ð½ÑŒ L Ð±Ð¾Ð»Ð½Ð¾ Ð³ÑÑÑÐ½ Ò¯Ð³ ÑŽÐ¼.
Ð–Ð¸ÑˆÑÑÐ»Ð±ÑÐ», Ð´Ð°Ñ€Ð°Ð°Ñ… Ð¼Ð¾Ð´Ð¾Ð½Ð´ Ð±Ð¸Ð´ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð° 1-Ð¸Ð¹Ð½ Ñ…Ò¯Ò¯Ñ…Ð´Ò¯Ò¯Ð´Ð¸Ð¹Ð³ ÑÐ¾Ð»Ð¸Ð½Ð¾.

                                Ð“Ò¯Ð½
    1               1            [1]
   / \             / \
  2   3     ->    3   2          [2]
   \   \           \   \
    4   5           5   4        [3]
Ð—Ò¯Ò¯Ð½ Ð¼Ð¾Ð´Ð½Ñ‹ Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð» Ð½ÑŒ 2Â 4Â 1Â 3Â 5 Ð±Ó©Ð³Ó©Ó©Ð´ Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð¼Ð¾Ð´Ð½Ñ‹ Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð» Ð½ÑŒ 3Â 5Â 1Â 2Â 4 Ð±Ð°Ð¹Ð½Ð°.

Ð¡Ð¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ»:
Ð‘Ð¸Ð´ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð³Ò¯Ð½Ð¸Ð¹Ð³ Ð´Ð°Ñ€Ð°Ð°Ñ… Ð±Ð°Ð¹Ð´Ð»Ð°Ð°Ñ€ Ñ‚Ð¾Ð´Ð¾Ñ€Ñ…Ð¾Ð¹Ð»Ð½Ð¾:

Ò®Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð° Ð½ÑŒ Ð³Ò¯Ð½ 1-Ñ‚ Ð±Ð°Ð¹Ð½Ð°.
Ð¥ÑÑ€ÑÐ² ÑÑ†ÑÐ³ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð³Ò¯Ð½ d Ð±Ð¾Ð», Ð¾Ð´Ð¾Ð¾Ð³Ð¸Ð¹Ð½ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð³Ò¯Ð½ d+1 Ð±Ð°Ð¹Ð½Ð°. Ó¨Ð³Ó©Ð³Ð´ÑÓ©Ð½ Ð¼Ð¾Ð´ Ð±Ð¾Ð»Ð¾Ð½ Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾ k-Ð¸Ð¹Ð½ Ñ…ÑƒÐ²ÑŒÐ´, Ð½ÑÐ³ Ò¯Ð¹Ð»Ð´Ð»ÑÑÑ€ Ð±Ð¸Ð´ Ð³Ò¯Ð½ h-Ñ‚ÑÐ¹ Ð±Ò¯Ñ… Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´Ñ‹Ð½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ ÑÐ¾Ð»Ð¸Ñ… Ñ‘ÑÑ‚Ð¾Ð¹, ÑÐ½Ð´ hâˆˆ[k,2k,3k,...]. Ó¨Ó©Ñ€Ó©Ó©Ñ€ Ñ…ÑÐ»Ð±ÑÐ», Ñ…ÑÑ€ÑÐ² h Ð½ÑŒ k-Ð¸Ð¹Ð½ Ò¯Ñ€Ð¶Ð²ÑÑ€ Ð±Ð¾Ð», Ñ‚ÑƒÑ…Ð°Ð¹Ð½ Ñ‚Ò¯Ð²ÑˆÐ½Ð¸Ð¹ Ð·Ò¯Ò¯Ð½ Ð±Ð¾Ð»Ð¾Ð½ Ð±Ð°Ñ€ÑƒÑƒÐ½ Ð´ÑÐ´ Ð¼Ð¾Ð´Ñ‹Ð³ ÑÐ¾Ð»Ð¸Ð½Ð¾.
Ð¢Ð°Ð½Ð´ n Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ñ‚Ð°Ð¹ Ð¼Ð¾Ð´ Ó©Ð³Ó©Ð³Ð´ÑÓ©Ð½ Ð±Ó©Ð³Ó©Ó©Ð´ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´ [1..n] Ð³ÑÐ¶ Ð¸Ð½Ð´ÐµÐºÑÐ»ÑÐ³Ð´ÑÑÐ½ Ð±Ó©Ð³Ó©Ó©Ð´ 1-ÑÑÑ Ò¯Ð½Ð´ÑÑÐ»ÑÑÑÐ½ Ð±Ð°Ð¹Ð½Ð°. Ð¢Ð° Ñ‚Ò¯Ò¯Ð½Ð´ t ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ñ…Ð¸Ð¹Ñ… Ñ‘ÑÑ‚Ð¾Ð¹ Ð±Ó©Ð³Ó©Ó©Ð´ ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ð±Ò¯Ñ€Ð¸Ð¹Ð½ Ð´Ð°Ñ€Ð°Ð° Ð¼Ð¾Ð´Ð½Ñ‹ Ð¾Ð´Ð¾Ð¾Ð³Ð¸Ð¹Ð½ Ñ‚Ó©Ð»Ó©Ð²Ð¸Ð¹Ð½ Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð»Ñ‹Ð³ Ñ…ÑÐ²Ð»ÑÑ… Ñ‘ÑÑ‚Ð¾Ð¹.

Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¹Ð½ Ñ‚Ð°Ð¹Ð»Ð±Ð°Ñ€

Ð”Ð¾Ð¾Ñ€Ñ… Ð·Ð°ÑÐ²Ð°Ñ€Ð»Ð°Ð³Ñ‡Ð¸Ð´ swapNodes Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹Ð³ Ð³Ò¯Ð¹Ñ†ÑÑÐ³ÑÑÑ€ÑÐ¹. Ð­Ð½Ñ Ð½ÑŒ ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ð±Ò¯Ñ€Ð¸Ð¹Ð½ Ð´Ð°Ñ€Ð°Ð°Ñ… Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð»Ñ‹Ð½ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð¸Ð½Ð´ÐµÐºÑÑ‚Ò¯Ò¯Ð´Ð¸Ð¹Ð³ Ð¸Ð»ÑÑ€Ñ…Ð¸Ð¹Ð»ÑÑ… Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾Ð½ Ð¼Ð°ÑÑÐ¸Ð² Ð±Ò¯Ñ…Ð¸Ð¹ Ñ…Ð¾Ñ‘Ñ€ Ñ…ÑÐ¼Ð¶ÑÑÑÑ‚ Ð¼Ð°ÑÑÐ¸Ð²Ñ‹Ð³ Ð±ÑƒÑ†Ð°Ð°Ñ… Ñ‘ÑÑ‚Ð¾Ð¹.

swapNodes Ð½ÑŒ Ð´Ð°Ñ€Ð°Ð°Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‚ÑÐ¹:

indexes: Ñ‚ÑƒÑ Ð±Ò¯Ñ€Ð¸Ð¹Ð½ Ð¸Ð½Ð´ÐµÐºÑÐ¸Ð¹Ð½ ÑƒÑ‚Ð³Ñ‹Ð³ Ð¸Ð»ÑÑ€Ñ…Ð¸Ð¹Ð»ÑÑ… Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾Ð½ Ð¼Ð°ÑÑÐ¸Ð², ÑÑ…Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð½ÑŒ Ò¯Ð½Ð´ÑÑ Ð±Ð¾Ð»Ð¾Ñ… 1-ÑÑÑ ÑÑ…ÑÐ»Ð½Ñ.
queries: Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾Ð½ Ð¼Ð°ÑÑÐ¸Ð², Ñ‚ÑƒÑ Ð±Ò¯Ñ€ Ð½ÑŒ k ÑƒÑ‚Ð³Ñ‹Ð³ Ð¸Ð»ÑÑ€Ñ…Ð¸Ð¹Ð»Ð½Ñ.
ÐžÑ€Ð¾Ð»Ñ‚Ñ‹Ð½ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚

Ð­Ñ…Ð½Ð¸Ð¹ Ð¼Ó©Ñ€Ó©Ð½Ð´ Ð¼Ð¾Ð´Ð½Ñ‹ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ñ‚Ð¾Ð¾ n Ð±Ð°Ð¹Ð½Ð°.
Ð”Ð°Ñ€Ð°Ð°Ð³Ð¸Ð¹Ð½ n Ð¼Ó©Ñ€ Ñ‚ÑƒÑ Ð±Ò¯Ñ€ Ñ…Ð¾Ñ‘Ñ€ Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾ aÂ b-Ð³ Ð°Ð³ÑƒÑƒÐ»Ð½Ð°, ÑÐ½Ð´ a Ð½ÑŒ Ð·Ò¯Ò¯Ð½ Ñ…Ò¯Ò¯Ñ…Ð´Ð¸Ð¹Ð½ Ð¸Ð½Ð´ÐµÐºÑ, b Ð½ÑŒ i-Ñ€ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ð±Ð°Ñ€ÑƒÑƒÐ½ Ñ…Ò¯Ò¯Ñ…Ð´Ð¸Ð¹Ð½ Ð¸Ð½Ð´ÐµÐºÑ ÑŽÐ¼.
Ð¢ÑÐ¼Ð´ÑÐ³Ð»ÑÐ»: âˆ’1 Ð½ÑŒ null Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð³ Ð¸Ð»ÑÑ€Ñ…Ð¸Ð¹Ð»ÑÑ…ÑÐ´ Ð°ÑˆÐ¸Ð³Ð»Ð°Ð³Ð´Ð´Ð°Ð³.
Ð”Ð°Ñ€Ð°Ð°Ð³Ð¸Ð¹Ð½ Ð¼Ó©Ñ€Ó©Ð½Ð´ t-Ð¸Ð¹Ð½ Ñ…ÑÐ¼Ð¶ÑÑ Ð±Ð¾Ð»Ð¾Ñ… Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾ Ð±Ð°Ð¹Ð½Ð°.
Ð”Ð°Ñ€Ð°Ð°Ð³Ð¸Ð¹Ð½ t Ð¼Ó©Ñ€ Ñ‚ÑƒÑ Ð±Ò¯Ñ€ Ð½ÑŒ Ð±Ò¯Ñ…ÑÐ» Ñ‚Ð¾Ð¾ k-Ð³ Ð°Ð³ÑƒÑƒÐ»Ð½Ð°, Ñ‚ÑƒÑ Ð±Ò¯Ñ€ Ð½ÑŒ k ÑƒÑ‚Ð³Ð°Ñ‚Ð°Ð¹.

Ð“Ð°Ñ€Ð°Ð»Ñ‚Ñ‹Ð½ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚

k Ð±Ò¯Ñ€Ð¸Ð¹Ð½ Ñ…ÑƒÐ²ÑŒÐ´ ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´Ð»Ð¸Ð¹Ð³ Ð³Ò¯Ð¹Ñ†ÑÑ‚Ð³ÑÐ¶, Ð´Ð°Ñ€Ð°Ð°Ð»Ð»Ñ‹Ð½ Ð´Ð°Ð³ÑƒÑƒÑ… Ð°ÑÐ»Ð°Ð»Ñ‹Ð½ Ð¸Ð½Ð´ÐµÐºÑÑ‚Ò¯Ò¯Ð´Ð¸Ð¹Ð³ Ò¯Ñ€ Ð´Ò¯Ð½Ð³Ð¸Ð¹Ð½ Ð¼Ð°ÑÑÐ¸Ð²Ð´Ð°Ð° Ñ…Ð°Ð´Ð³Ð°Ð»Ð½Ð°. Ð‘Ò¯Ñ… ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ñ…Ð¸Ð¹Ð³Ð´ÑÑÐ½Ð¸Ð¹ Ð´Ð°Ñ€Ð°Ð° Ò¯Ñ€ Ð´Ò¯Ð½Ð³Ð¸Ð¹Ð½ Ð¼Ð°ÑÑÐ¸Ð²Ð°Ð° Ñ…ÑÐ²Ð»ÑÑ…ÑÑÑ€ Ð±ÑƒÑ†Ð°Ð°Ð½Ð°.

Ð¥ÑÐ·Ð³Ð°Ð°Ñ€Ð»Ð°Ð»Ñ‚

1â‰¤nâ‰¤1024
1â‰¤indexes[i][0],indexes[i][1]â‰¤n ÑÑÐ²ÑÐ» âˆ’1
1â‰¤tâ‰¤100
1â‰¤kâ‰¤n
indexes[i][0] ÑÑÐ²ÑÐ» âˆ’1
indexes[i][1] ÑÑÐ²ÑÐ» âˆ’1
Ð¥Ð¾Ð¾ÑÐ¾Ð½ Ð±Ð¸Ñˆ Ñ…Ò¯Ò¯Ñ…Ð´Ð¸Ð¹Ð½ Ð¸Ð½Ð´ÐµÐºÑ Ð½ÑŒ ÑÑ†ÑÐ³ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ð°Ð°ÑÐ°Ð° Ò¯Ñ€Ð³ÑÐ»Ð¶ Ð¸Ñ… Ð±Ð°Ð¹Ð½Ð°.
Ð–Ð¸ÑˆÑÑ Ð¾Ñ€Ð¾Ð»Ñ‚ 0

3
2 3
-1 -1
-1 -1
2
1
1
Ð–Ð¸ÑˆÑÑ Ð³Ð°Ñ€Ð°Ð»Ñ‚ 0

3 1 2
2 1 3
Ð¢Ð°Ð¹Ð»Ð±Ð°Ñ€ 0

Ð—Ð°Ð½Ð³Ð¸Ð»Ð°Ð° 2 Ð±Ð¾Ð»Ð¾Ð½ 3 Ð½ÑŒ Ñ…Ò¯Ò¯Ñ…ÑÐ´Ð³Ò¯Ð¹ Ñ‚ÑƒÐ» Ñ‚ÑÐ´Ð³ÑÑÑ€Ð¸Ð¹Ð³ ÑÐ¾Ð»Ð¸Ñ… Ð½ÑŒ Ñ‚ÑÐ´ÑÐ½Ð´ ÑÐ¼Ð°Ñ€ Ñ‡ Ð½Ó©Ð»Ó©Ó© Ò¯Ð·Ò¯Ò¯Ð»ÑÑ…Ð³Ò¯Ð¹. Ð‘Ð¸Ð´ Ð·Ó©Ð²Ñ…Ó©Ð½ Ò¯Ð½Ð´ÑÑ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½Ñ‹ Ñ…Ò¯Ò¯Ñ…ÑÐ´ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´Ñ‹Ð³ ÑÐ¾Ð»Ð¸Ñ… Ñ‘ÑÑ‚Ð¾Ð¹.

    1   [s]       1    [s]       1
   / \      ->   / \        ->  / \
  2   3 [s]     3   2  [s]     2   3
Ð¢ÑÐ¼Ð´ÑÐ³Ð»ÑÐ»: [s] Ð½ÑŒ ÑÐ½Ñ Ð³Ò¯Ð½Ð´ ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ñ…Ð¸Ð¹Ð³Ð´ÑÑÐ½ Ð±Ð¾Ð»Ð¾Ñ…Ñ‹Ð³ Ð¸Ð»ÑÑ€Ñ…Ð¸Ð¹Ð»Ð½Ñ.

Ð–Ð¸ÑˆÑÑ Ð¾Ñ€Ð¾Ð»Ñ‚ 1

5
2 3
-1 4
-1 5
-1 -1
-1 -1
1
2
Ð–Ð¸ÑˆÑÑ Ð³Ð°Ñ€Ð°Ð»Ñ‚ 1

4 2 1 5 3
Ð¢Ð°Ð¹Ð»Ð±Ð°Ñ€ 1

Ð—Ð°Ð½Ð³Ð¸Ð»Ð°Ð° 2 Ð±Ð¾Ð»Ð¾Ð½ 3-Ñ‹Ð½ Ñ…Ò¯Ò¯Ñ…ÑÐ´ Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´Ñ‹Ð³ ÑÐ¾Ð»Ð¸Ñ…Ð¾Ð´ Ð±Ð¸Ð´ Ð´Ð°Ñ€Ð°Ð°Ñ…Ñ‹Ð³ Ð°Ð²Ð½Ð°:

    1                  1
   / \                / \
  2   3   [s]  ->    2   3
   \   \            /   /
    4   5          4   5
Ð–Ð¸ÑˆÑÑ Ð¾Ñ€Ð¾Ð»Ñ‚ 2

11
2 3
4 -1
5 -1
6 -1
7 8
-1 9
-1 -1
10 11
-1 -1
-1 -1
-1 -1
2
2
4
Ð–Ð¸ÑˆÑÑ Ð³Ð°Ñ€Ð°Ð»Ñ‚ 2

2 9 6 4 1 3 7 5 11 8 10
2 6 9 4 1 3 7 5 10 8 11
Ð¢Ð°Ð¹Ð»Ð±Ð°Ñ€ 2

Ð­Ð½Ð´ Ð±Ð¸Ð´ k=2-Ñ‹Ð½ Ñ…ÑƒÐ²ÑŒÐ´ Ð³Ò¯Ð½ Ð½ÑŒ 2 ÑÑÐ²ÑÐ» 4 Ð±Ð°Ð¹Ñ… Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´Ð°Ð´ ÑÐ¾Ð»Ð¸Ñ… Ò¯Ð¹Ð»Ð´ÑÐ» Ñ…Ð¸Ð¹Ð³ÑÑÐ´, Ð´Ð°Ñ€Ð°Ð° Ð½ÑŒ k=4-Ñ‹Ð½ Ñ…ÑƒÐ²ÑŒÐ´ Ð³Ò¯Ð½ Ð½ÑŒ 4 Ð±Ð°Ð¹Ñ… Ð·Ð°Ð½Ð³Ð¸Ð»Ð°Ð°Ð½ÑƒÑƒÐ´Ð°Ð´ Ñ…Ð¸Ð¹Ð½Ñ.

         1                     1                          1
        / \                   / \                        / \
       /   \                 /   \                      /   \
      2     3    [s]        2     3                    2     3
     /      /                \     \                    \     \
    /      /                  \     \                    \     \
   4      5          ->        4     5          ->        4     5
  /      / \                  /     / \                  /     / \
 /      /   \                /     /   \                /     /   \
6      7     8   [s]        6     7     8   [s]        6     7     8
 \          / \            /           / \              \         / \
  \        /   \          /           /   \              \       /   \
   9      10   11        9           11   10              9     10   11
![alt text](<Screenshot 2025-06-10 144139.png>)