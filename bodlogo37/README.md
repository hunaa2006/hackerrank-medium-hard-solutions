Бодлого 17
s string-ийг авч үзье, n жижиг үсгийн англи үсгүүдээс бүрдсэн бөгөөд s i​( 0≤i<n ) нь s-ийн i индекс дэх үсгийг илэрхийлнэ. Бид (a,b,c,d) палиндром дөрөвтийг s-д дараах шалгуурыг хангасан индексуудын дараалал гэж тодорхойлно:

s^a = s^d, энэ нь a болон d индекс дэх тэмдэгтүүд ижил гэсэн үг. s^b = s^c , энэ нь b болон c индекс дэх тэмдэгтүүд ижил гэсэн үг. 0 ≤ a < b < c < d < ∣s∣, энэ нь a,b,c,d нь өсөх дарааллаар байрлах бөгөөд s string доторх хүчинтэй индексууд гэсэн үг. s string өгөгдсөн үед дээрх нөхцөлийг хангасан (a,b,c,d) дөрөвтийн тоог олж хэвлэ. Энэ утга их байж болох тул 10 9 +7-д хуваасан үлдэгдлийг хэвлэ.

Функцийн тайлбар

Доорх засварлагчид shortPalindrome функцийг гүйцэтгэнэ үү.

shortPalindrome нь дараах параметртэй:

string s: string Буцаах утга

int: дөрөвтийн тоо, 10 9 +7-д хуваасан үлдэгдэл Оролтын формат

Нэг string s.

Хязгаарлалт

1 ≤ ∣ s ∣ ≤ 10^6

s нь зөвхөн жижиг үсгийн англи үсгүүдийг агуулна гэдэг нь баталгаатай. Жишээ Оролт 0

kkkkkkz

Жишээ Гаралт 0

15

Тайлбар 0

"z" үсэг нь хүчинтэй дөрөвтийн хэсэг болохгүй, учир нь дээр тодорхойлсон нэгэн адил дор хаяж хоёр ижил тэмдэгт хэрэгтэй. Дөрвөн 'k'-ээс бүрдсэн бүх дөрөвтүүд хүчинтэй тул бид зургаан 'k'-ээс дөрвийг нь сонгох боломжийн тоог олох хэрэгтэй. Энэ нь бидний хариулт ( 46)(mod10^9+7)=15 гэсэн үг.

Жишээ Оролт 1

ghhggh

Жишээ Гаралт 1

4

Тайлбар 1

Хүчинтэй дөрөвтүүд нь:

(0, 1, 2, 3) (0, 1, 2, 4) (1, 3, 4, 5) (2, 3, 4, 5) Иймээс бидний хариулт 4(mod10 9 +7)=4.

Жишээ Оролт 2

akakak

Жишээ Гаралт 2

2

Тайлбар 2

Боломжит дөрөвтүүд нь (1, 2, 4, 5) ба (0, 1, 3, 4)